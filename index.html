<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React + TS</title>
    <script>"use strict"; function _typeof(t) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } !function () { var t = function () { var t, e, o = [], n = window, r = n; for (; r;) { try { if (r.frames.__tcfapiLocator) { t = r; break } } catch (t) { } if (r === n.top) break; r = r.parent } t || (!function t() { var e = n.document, o = !!n.frames.__tcfapiLocator; if (!o) if (e.body) { var r = e.createElement("iframe"); r.style.cssText = "display:none", r.name = "__tcfapiLocator", e.body.appendChild(r) } else setTimeout(t, 5); return !o }(), n.__tcfapi = function () { for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r]; if (!n.length) return o; "setGdprApplies" === n[0] ? n.length > 3 && 2 === parseInt(n[1], 10) && "boolean" == typeof n[3] && (e = n[3], "function" == typeof n[2] && n[2]("set", !0)) : "ping" === n[0] ? "function" == typeof n[2] && n[2]({ gdprApplies: e, cmpLoaded: !1, cmpStatus: "stub" }) : o.push(n) }, n.addEventListener("message", (function (t) { var e = "string" == typeof t.data, o = {}; if (e) try { o = JSON.parse(t.data) } catch (t) { } else o = t.data; var n = "object" === _typeof(o) && null !== o ? o.__tcfapiCall : null; n && window.__tcfapi(n.command, n.version, (function (o, r) { var a = { __tcfapiReturn: { returnValue: o, success: r, callId: n.callId } }; t && t.source && t.source.postMessage && t.source.postMessage(e ? JSON.stringify(a) : a, "*") }), n.parameter) }), !1)) }; "undefined" != typeof module ? module.exports = t : t() }();</script>

    <script>(function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();
    </script>

    <script>
      function checkVendorConsent(vendorId, callback) {
        if (typeof __tcfapi !== 'function') {
          console.error('TCF API not available');
          return;
        }

        __tcfapi('getTCData', 2, function (tcData, success) {
          if (success && tcData && tcData.vendor && tcData.vendor.consents) {
            const consented = !!tcData.vendor.consents[vendorId];
            console.log(tcData);
            callback(consented);
          } else {
            console.error('Could not retrieve TCF data');
            callback(false);
          }
        });
      }
      window._sp_queue = [];
      window._sp_ = {
        config: {
          accountId: 1945,
          propertyHref: "https://www.dailymotion.com",
          baseEndpoint: "https://cdn.privacy-mgmt.com",
          // ccpa: {includeGppApi: true},
          gdpr: {},
          events: {
            onMessageReady: function () {
              console.log("[event] onMessageReady", arguments);
            },
            onMessageReceiveData: function () {
              console.log("[event] onMessageReceiveData", arguments);
            },
            onSPReady: function () {
              console.log("[event] onSPReady", arguments);
            },
            onConsentReady: function (consentUUID, euconsent) {

              checkVendorConsent('573', function (consentGranted) { //'60eed2875abe521724483fc2' is the ID for the Dailymotion vendor
                if (consentGranted) {
                  console.log(`✅ Consent granted for vendor Dailymotion`);
                } else {
                  console.log(`❌ Consent NOT granted for vendor Dailymotion`);
                }
              });
              checkVendorConsent('755', function (consentGranted) {
                if (consentGranted) {
                  console.log(`✅ Consent granted for vendor Google`);
                } else {
                  console.log(`❌ Consent NOT granted for vendor Google`);
                }
              });
            },
            onError: function () {
              console.log("[event] onError", arguments);
            },
            onMessageChoiceSelect: function () {
              console.log("[event] onMessageChoiceSelect", arguments);
            },
            onPrivacyManagerAction: function () {
              console.log("[event] onPrivacyManagerAction", arguments);
            },
            onPMCancel: function () {
              console.log("[event] onPMCancel", arguments);
            },
          },
        },
      };
    </script>
    <script src='https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js' async></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
